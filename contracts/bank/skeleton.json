{
    "name": "Bank",
    "specification": "file:spec.md",
    "properties": {
        "assets-dec-onlyif-deposit": "if the ETH balance of a user A is decreased after a transaction (of the Bank contract), then that transaction must be a `deposit` where A is the sender.",
        "assets-inc-onlyif-withdraw": "if the ETH balance of a user A is increased after a transaction (of the Bank contract), then that transaction must be a `withdraw` where A is the sender.",
        "credit-dec-onlyif-withdraw": "if the credit of a user A is decreased after a transaction (of the Bank contract), then that transaction must be a `withdraw` where A is the sender.",
        "credit-inc-onlyif-deposit": "if the credit of a user A is increased after a transaction (of the Bank contract), then that transaction must be a `deposit` where A is the sender.",
        "credits-leq-balance": "the wei balance stored in the contract is greater than or equal to the sum of all the users' credits", 
        "deposit-additivity": "two non-reverting consecutive (i.e., not interleaved with other transactions) `deposit` of n1 and n2 wei performed by the same sender are equivalent to a single `deposit` of n1+n2 wei of T.",
        "deposit-assets-credit": "after a non-reverting `deposit()`, the credits of `msg.sender` are increased by `msg.value`.",
        "deposit-assets-credit-others": "after a non-reverting `deposit()`, the credit of any user but the sender is preserved.",
        "deposit-assets-transfer-others": "after a non-reverting `deposit()`, the ETH balance of any user but the sender are preserved.",
        "deposit-contract-balance": "after a non-reverting `deposit()`, the ETH balance of the contract is increased by `msg.value`.",
        "deposit-not-revert-external": "an external `deposit` transaction never reverts",
        "deposit-not-revert": "a `deposit` transaction never reverts",
        "deposit-revert": "a `deposit` transaction reverts if `msg.value` plus the current credits of `msg.sender` overflows.",
        "exists-at-least-one-credit-change": "after a non-reverting `deposit` or `withdraw` transaction to the Bank contract, the credits of at least one user have changed",
        "exists-unique-asset-change": "after a non-reverting `deposit` or `withdraw` transaction to the Bank contract, the ETH balance of exactly one account (except the contract's) have changed",
        "exists-unique-credit-change": "after a non-reverting `deposit` or `withdraw` transaction to the Bank contract, the credit of exactly one user have changed",
        "no-frozen-assets": "if the contract has a strictly positive ETH balance, then someone can transfer them from the contract to some user",
        "no-frozen-credits": "if the sum of all the credits is strictly positive, it is possible to reduce them",
        "withdraw-additivity": "if the same sender can perform two non-reverting consecutive (i.e., not interleaved with other transactions) `withdraw` of n1 and n2 wei, respectively, then the same sender can always obtain an equivalent effect (on the state of the Bank contract and on its own account) through a single `withdraw` of n1+n2 wei. Here equivalence neglects transaction fees.",
        "withdraw-assets-credit-others": "after a non-reverting `withdraw(amount)`, the credit of any user (except, possibly, the sender) is preserved.",
        "withdraw-assets-transfer-others": "after a non-reverting `withdraw(amount)`, the ETH balance of any user (except, possibly, the sender) are preserved.",
        "withdraw-contract-balance": "after a non-reverting `withdraw(amount)`, the contract balance is decreased by `amount` wei.",
        "withdraw-not-revert": "a `withdraw(amount)` call does not revert if `amount` is bigger than zero and less or equal to the credit of `msg.sender`.",
        "withdraw-revert": "a `withdraw(amount)` call reverts if `amount` is zero or greater than the credit of `msg.sender`.",
        "withdraw-sender-credit": "after a non-reverting `withdraw(amount)`, the credit of `msg.sender` is decreased by `amount`.",
        "withdraw-sender-rcv": "after a non-reverting `withdraw(amount)`, the ETH balance of 'msg.sender` is increased by `amount` wei.",
        "withdraw-sender-rcv-EOA": "after a non-reverting `withdraw(amount)` originated by an EOA, the ETH balance of the `msg.sender` is increased by `amount` wei."
    },
    "property-types": {
        "assets-dec-onlyif-deposit": "single-transition invariant",
        "assets-inc-onlyif-withdraw": "single-transition invariant",
        "credit-dec-onlyif-withdraw": "single-transition invariant",
        "credit-inc-onlyif-deposit": "single-transition invariant",
        "credits-leq-balance": "state invariant",
        "deposit-additivity": "other",
        "deposit-assets-credit": "function spec",
        "deposit-assets-credit-others": "function spec",
        "deposit-assets-transfer-others": "function spec",
        "deposit-contract-balance": "function spec",
        "deposit-not-revert": "function spec",
        "deposit-revert": "function spec",
        "no-frozen-assets": "other",
        "no-frozen-credits": "other",
        "withdraw-additivity": "other",
        "withdraw-assets-credit-others": "function spec",
        "withdraw-assets-transfer-others": "function spec",
        "withdraw-contract-balance": "function spec",
        "withdraw-not-revert": "function spec",
        "withdraw-revert": "function spec",
        "withdraw-sender-credit": "function spec",
        "withdraw-sender-rcv": "function spec",
        "withdraw-sender-rcv-EOA": "function spec",
        "exists-at-least-one-credit-change": "single-transition invariant",
        "exists-unique-asset-change": "single-transition invariant",
        "exists-unique-credit-change": "single-transition invariant"
    }
}






